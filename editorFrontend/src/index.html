<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor</title>
    <link rel="stylesheet" href="../node_modules/flowbite/dist/flowbite.min.css">
    <link rel="stylesheet" href="index.css">
    <!-- Include Chart.js library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="dark:bg-gray-900 h-screen overflow-hidden">
    <!-- Navbar -->
     
<nav class="fixed top-0 left-0 right-0 bg-gray-800 dark:bg-gray-700 p-4 ">
  <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
  <a href="index.html" class="flex items-center space-x-3 rtl:space-x-reverse">
      <img src="https://flowbite.com/docs/images/logo.svg" class="h-8" alt="Flowbite Logo" />
      <span class="self-center text-2xl font-bold whitespace-nowrap text-white">Editor</span>
  </a>
  <div class="flex md:order-2">
    <button type="button" data-collapse-toggle="navbar-search" aria-controls="navbar-search" aria-expanded="false" class="md:hidden text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 me-1">
      <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
      </svg>
      <span class="sr-only">Search</span>
    </button>
    <div class="relative hidden md:block">
      <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
        <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
        </svg>
        <span class="sr-only">Search icon</span>
      </div>
      <input type="text" id="search-navbar" class="block w-full p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500" placeholder="Search...">
    </div>
    <button data-collapse-toggle="navbar-search" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-search" aria-expanded="false">
        <span class="sr-only">Open main menu</span>
        <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
        </svg>
    </button>
  </div>
    <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1" id="navbar-search">
      <div class="relative mt-3 md:hidden">
        <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
          <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
          </svg>
        </div>
        <input type="text" id="search-navbar" class="block w-full p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Search...">
      </div>
    </div>
  </div>
</nav>





  

   <aside id="sidebar-multi-level-sidebar" class="fixed left-0 z-40 w-64 h-screen transition-transform -translate-x-full sm:translate-x-0" aria-label="Sidebar">
      <div class="h-full px-3 py-4 overflow-y-auto bg-gray-50 bg-gray-800">
         <ul class="space-y-2 font-medium">
            <li>
               <a href="#" class="flex items-center p-2 text-gray-900 rounded-lg text-white hover:bg-gray-100 hover:bg-gray-700 group">
                  <svg class="w-5 h-5 text-gray-500 transition duration-75 text-gray-400 group-hover:text-gray-900 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 21">
                     <path d="M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"/>
                     <path d="M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"/>
                  </svg>
                  <span class="ms-3">Dashboard</span>
               </a>
            </li>
            <li>
              <a href="repository.html" class="flex items-center p-2 text-gray-900 rounded-lg text-white hover:bg-gray-100 hover:bg-gray-700 group">
                <svg class="w-5 h-5 text-gray-500 transition duration-75 text-gray-400 group-hover:text-gray-900 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                  <path fill-rule="evenodd" d="M11 4.717c-2.286-.58-4.16-.756-7.045-.71A1.99 1.99 0 0 0 2 6v11c0 1.133.934 2.022 2.044 2.007 2.759-.038 4.5.16 6.956.791V4.717Zm2 15.081c2.456-.631 4.198-.829 6.956-.791A2.013 2.013 0 0 0 22 16.999V6a1.99 1.99 0 0 0-1.955-1.993c-2.885-.046-4.76.13-7.045.71v15.081Z" clip-rule="evenodd"/>
                </svg>
                
                 <span class="ms-3"> Public Repository</span>
              </a>
           </li>
           <li>
            <a href="#" class="flex items-center p-2 text-gray-900 rounded-lg text-white hover:bg-gray-100 hover:bg-gray-700 group">
              <svg class="w-5 h-5 text-gray-500 transition duration-75 text-gray-400 group-hover:text-gray-900 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path fill-rule="evenodd" d="M8 10V7a4 4 0 1 1 8 0v3h1a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h1Zm2-3a2 2 0 1 1 4 0v3h-4V7Zm2 6a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0v-3a1 1 0 0 1 1-1Z" clip-rule="evenodd"/>
              </svg>
              
               <span class="ms-3">Private Repository</span>
            </a>
         </li>
         <li>
          <a href="#" class="flex items-center p-2 text-gray-900 rounded-lg text-white hover:bg-gray-100 hover:bg-gray-700 group">
            <svg class="w-5 h-5 text-gray-500 transition duration-75 text-gray-400 group-hover:text-gray-900 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd" d="M5 6a3 3 0 1 1 4 2.83V10a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V8.83a3.001 3.001 0 1 1 2 0V10a3 3 0 0 1-3 3h-1v2.17a3.001 3.001 0 1 1-2 0V13h-1a3 3 0 0 1-3-3V8.83A3.001 3.001 0 0 1 5 6Z" clip-rule="evenodd"/>
            </svg>
            
             <span class="ms-3">Forked Repository</span>
          </a>
       </li>
       <li>
        <a href="#" class="flex items-center p-2 text-gray-900 rounded-lg text-white hover:bg-gray-100 hover:bg-gray-700 group">
          <svg class="w-5 h-5 text-gray-500 transition duration-75 text-gray-400 group-hover:text-gray-900 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path fill-rule="evenodd" d="M12 20a7.966 7.966 0 0 1-5.002-1.756l.002.001v-.683c0-1.794 1.492-3.25 3.333-3.25h3.334c1.84 0 3.333 1.456 3.333 3.25v.683A7.966 7.966 0 0 1 12 20ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10c0 5.5-4.44 9.963-9.932 10h-.138C6.438 21.962 2 17.5 2 12Zm10-5c-1.84 0-3.333 1.455-3.333 3.25S10.159 13.5 12 13.5c1.84 0 3.333-1.455 3.333-3.25S13.841 7 12 7Z" clip-rule="evenodd"/>
          </svg>
          
           <span class="ms-3">Other's Repository</span>
        </a>
     </li>
            
         </ul>
      </div>
   </aside>


   
   


<div class="graph-container">
  <div class="chart">
    <div class="content">
    
      <div class="flex items-center justify-center h-24 rounded bg-gray-50 dark:bg-gray-800">
        <div class="container mx-auto my-10 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 px-4"> 
          
          
          <!-- Activity Graph -->
           <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col items-center">
            <h2 class="text-xl font-bold mb-4 text-center">Daily Activity</h2>
            <canvas id="activityChart" width="300" height="100"></canvas>
          </div>
          
          <!-- Language Breakdown -->
           <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col items-center">
            <h2 class="text-xl font-bold mb-4 text-center">Languages Used</h2>
            <canvas id="languageChart" width="300" height="100"></canvas>
          </div>
          
          <!-- Editors Used -->
           <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col items-center">
            <h2 class="text-xl font-bold mb-4 text-center">Editors Used</h2>
            <canvas id="editorsChart" width="300" height="100"></canvas>
          </div>
          
          <!-- Projects Breakdown -->
           <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col items-center">
            <h2 class="text-xl font-bold mb-4 text-center">Projects Breakdown</h2>
            <canvas id="projectsChart" width="300" height="100"></canvas>
          </div>
          
          <!-- Time Distribution -->
           <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col items-center">
            <h2 class="text-xl font-bold mb-4 text-center">Time Distribution</h2>
            <canvas id="timeDistributionChart" width="400" height="200"></canvas>
          </div>
        </div>
      </div>
      <!-- Include Flowbite and Chart.js Script -->
       <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.4.7/flowbite.min.js"></script>
       <!-- JavaScript to Handle Charts and WakaTime Integration -->
        <script>
          // Replace these with your WakaTime API Key and User ID
          const apiKey = 'waka_2478b416-3146-4db6-aa38-55ab35075aed';
          const userId = 'urvipadelkar';

          // Base WakaTime URL
          const baseURL = `https://wakatime.com/api/v1/users/${userId}`;
          
          // Asynchronous function to fetch data from WakaTime
          async function fetchWakaTimeData(endpoint) {
            const url = `${baseURL}${endpoint}`;
            const response = await fetch(url, {
              headers: {
                'Authorization': `Basic ${btoa(apiKey)}`, // Use Base64 encoded API key
                }
              });
              const data = await response.json();
              return data;
            }
            
            // Function to create charts dynamically
            function createChart(canvasId, type, labels, data, label, colors) {
              const ctx = document.getElementById(canvasId).getContext('2d');
              return new Chart(ctx, {
                type: type,
                data: {
                  labels: labels,
                  datasets: [{
                    label: label,
                    data: data,
                    backgroundColor: colors.backgroundColor,
                    borderColor: colors.borderColor,
                    borderWidth: 1
                  }]
                },
                options: {
                  responsive: true,
                  maintainAspectRatio: false,
                  plugins: {
                    legend: {
                      display: true,
                      position: 'top'
                    },
                    tooltip: {
                      enabled: true,
                      backgroundColor: 'rgba(0, 0, 0, 0.7)',
                      titleColor: '#fff',
                      bodyColor: '#fff'
                    }
                  },
                  scales: {
                    x: { grid: { display: true, color: 'rgba(200, 200, 200, 0.2)' }},
                    y: { grid: { display: true, color: 'rgba(200, 200, 200, 0.2)' }}
                  }
                }
              });
            }
            
            // Fetch and populate charts
            async function populateCharts() {
              // Fetch daily activity data
              const activityData = await fetchWakaTimeData('/summaries?range=last_7_days');
              const activityLabels = activityData.data.map(summary => new Date(summary.range.date).toLocaleDateString('en-US', { weekday: 'short' }));
              const activityValues = activityData.data.map(summary => parseFloat(summary.grand_total.hours) + parseFloat(summary.grand_total.minutes) / 60);
              createChart('activityChart', 'line', activityLabels, activityValues, 'Daily Activity', {backgroundColor: 'rgba(75, 192, 192, 0.2)', borderColor: 'rgba(75, 192, 192, 1)'});
              
              // Fetch language usage data
              const languageData = await fetchWakaTimeData('/stats/last_7_days');
              const languageLabels = languageData.data.languages.map(lang => lang.name);
              const languageValues = languageData.data.languages.map(lang => lang.total_seconds / 3600); // Convert to hours
              createChart('languageChart', 'doughnut', languageLabels, languageValues, 'Languages Used', {backgroundColor: ['#ff6384', '#36a2eb', '#cc65fe', '#ffce56'], borderColor: ['#ff6384', '#36a2eb', '#cc65fe', '#ffce56']});
              
              // Fetch editors usage data
              const editorsData = await fetchWakaTimeData('/stats/last_7_days');
              const editorsLabels = editorsData.data.editors.map(editor => editor.name);
              const editorsValues = editorsData.data.editors.map(editor => editor.total_seconds / 3600); // Convert to hours
              createChart('editorsChart', 'bar', editorsLabels, editorsValues, 'Editors Used', {backgroundColor: ['#ff6384', '#36a2eb'], borderColor: ['#ff6384', '#36a2eb']});
              
              // Fetch projects breakdown data
              const projectsData = await fetchWakaTimeData('/stats/last_7_days');
              const projectsLabels = projectsData.data.projects.map(project => project.name);
              const projectsValues = projectsData.data.projects.map(project => project.total_seconds / 3600); // Convert to hours
              createChart('projectsChart', 'bar', projectsLabels, projectsValues, 'Projects Breakdown', {backgroundColor: ['#cc65fe', '#ffce56'], borderColor: ['#cc65fe', '#ffce56']});

              // Fetch time distribution data
              const timeDistributionLabels = ['Coding', 'Meetings', 'Breaks', 'Other'];
              const timeDistributionValues = [30, 10, 5, 2]; // Example data, replace with WakaTime values
              createChart('timeDistributionChart', 'pie', timeDistributionLabels, timeDistributionValues, 'Time Distribution', {backgroundColor: ['#ff6384', '#36a2eb', '#cc65fe', '#ffce56'], borderColor: ['#ff6384', '#36a2eb', '#cc65fe', '#ffce56']});
            }
            
            
            // Load charts on page load
            document.addEventListener('DOMContentLoaded', populateCharts);
        </script>
    </div>
  </div>
</div>




<style>
        /* Ensure the chart maintains consistent height */
        canvas {
            max-width: 100% !important; /* Ensures canvas doesn't overflow */
            height: 300px !important; /* Set a fixed height */
        }
</style>



    <script src="../node_modules/flowbite/dist/flowbite.min.js"></script>
</body>
</html>